# INFO O CLOUDINARY-JU

DA KRENEM OD ONOGA STO VEC TREBAS DA ZNAS

- CODE INSIDE `packages/gatsby-theme-raedal/gatsby-config.js`, RELATED TO CLOUDINARY TREBA DA ODCOMMENT-UJES

- FOLDER ZA CLOUDINARY IMAGES JE `sites/blog/cloud-images` (**TAM OSTAVLJAJ SLIKE**)

# :cyclone::cyclone::cyclone::cyclone: SLIKA TREBA DA IMA ISTO IME KAO ONO IME KOJE SI ZADAO U FRONTMATTER-U BLOG POST-A :cyclone::cyclone::cyclone::cyclone:

PROPERTI

**`cloudImagesArrayName`**

# DEFINISAO SAM DA SE U ODSUSTVU OVAKVOG PROPERTIJA, KAO DEFAULT SERVIRA PRAZAN STRING

DAKLE MOJA TEMA BI TREBALA DA QUERY-UJE U ODNOSU NA TU VREDNOST

KAKO BI UZELA NIZ CLOUDINARY ASSET-OVA

***
***

AKO IMAM PRAZAN STRING, QUERY SE NECE NI DESITI JER SAM TO TAKO DEFINISAO, I NA KRAJU CE BITI PROSLEDJEN PRAZNA NIZ

***
***

AKO NIJE PRAZAN NIZ, PAGE TVOG SITE-A CE DOBITI NIZ CLOUDINARY ASSET-OVA

# NAPOMENA U VEZI NUMERISANJE SLIKA, ZA JEDAN PAGE

SLIKE NUMERISI, POCEVSI OD BROJA NULA

# KAKO DA U MDX MARKIRAS CLOUDINARY SLIKE

**KORITI h5 TAG, UZ BROJ**

NA PRIMER OVAKO

```mdx

##### 0

##### 1

```

KAO STO VIDIS OVO CE ZNACITI DA CE NA RELATED PAGE-U BITI RENDERED DVE SLIEK SA CLOUDINARY-JA

TO JE ZATO STO KOMPONENTA `packages/gatsby-theme-raedal/src/components/mdx-theme-ui-overrides/cloud-image.tsx`

JESTE TA KOJA RENDER-UJE SLIKU, JER SAM JA TAKO DEFINISAO

# NAPOMENA

NE MOZES VISE KORISTITI h5 TAG, I NADATI SE DA CE TI RENDEROVATI TEKS

UVEK CE BITI RENDERED SLIKA, JER SAM SE ZA TO POSTARAO

# NAPOMENA

OBRATI PAZNJU DA UPLOAD-UJES SLIKE NA CLOUDINARY, KOJE BI IMALE CONFLICTING IMENA SA ONIM SLIKAMA INSIDE

`sites/blog/devicons-in-use`

NECE VALJATI JER JE MOGUCE DA SE ONDA ZA DEVICONS QUERY-UJU SLIKE SA CLOUDINARY-JA, STO MI NE ODGOVARA 

**USTVARI NEMOJ DA UPLOAD-UJES SVG-JEVE NA CLOUDINARY**

# 'PALJENJE I GASENJE' CLOUDINARY-JA U CILJU DEVELOPMENTA (VAZNO VAZNO VAZNO VAZNO)

LAKSI TI JE DEVELOPMENT KADA NEMAS CLOUDINARY, ONDA KADA SI ZAVRSIO SA THINKERINGOM VEZANIM ZA CLOUD IMAGES

PALJENJE I GASENJE CLOUDINARY-JA NISAM USPEO PROGRMATICCALY DA DEFINISEM JER TRANSFORMER DONOSI NESTO SVOJE SAMOM INSTALACIJOM, ZATO CU TI OBJASNITI KAKO DA NUTRALISES CLOUDINARY U CILJU LAKSEG DEVELOPMENTA

***

***

`KADA NE ZELIS DA IMAS CLOUDINARY`

:one: UKLONI TRANSFORMERA (**NAJVAZNIJE JER MI JE ZADALO VELIKIH GLAVOBOLJA, A UPRAVO JE OVO UKLANJANJ UKLONILO I ERRORE, KOJI SU ZA DIVNO CUDJENJE BIL IVEZANI ZA FRAGMENTE, A NJIH NISAM NI KORISTIO**)

- `yarn workspace gatsby-theme-raedal remove gatsby-transformer-cloudinary`

:two: COMMENT-UJ OUT SAV CODE INSIDE `packages/gatsby-theme-raedal/gatsby-config.js` (CODE KOJI SE TICE CLOUDINARY-JA)

TU TI JE CODE VEZAN ZA ENV, NA POCETKU FAJLA, A OSTALO CES VIDETI I SAM

:three: COMMENT-UJ OUT SAV CODE INSIDE `packages/gatsby-theme-raedal/gatsby-node.js` (CODE KOJI SE TICE CLOUDINARY-JA)

U SUSTINI TO JE JEDNA USLOVNA IZJAVA KOJA SE NALAZI U `createPages` HOOK-U

```js
/* if (!cloudImagesArrayName) {
  cloudinaryAssets = { data: { allFile: { nodes: [] } } }; // PRAVIM OVAKVU STRUKTURU, JER CE MI BITI LAKSE DA ISKORITIM VREDNOST
} else {
  cloudinaryAssets = await graphql(
    `
      query CloudImages($reg: String!) {
        allFile(filter: { name: { regex: $reg } }) {
          nodes {
            cloudinary: childCloudinaryAsset {
              fluid(maxWidth: 1880) {
                aspectRatio
                base64
                sizes
                src
                srcSet
              }
            }
          }
        }
      }
    `,
    // QUERY VARIABLE, KOJA MORA BITI STRING U OBLIKU REGEXP-A
    { reg: `/${cloudImagesArrayName}/` }
  );
}
 */
```

***

***

A KADA ZAELIS OPET DA KORISTIS CLOUDINARY, TI URADI OBRATNO I NEMOJ DA ZABORAVIS DA OPET INSTALIRAS POMENUTOG TRANSFORMER-A 
