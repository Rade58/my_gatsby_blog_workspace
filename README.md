# DAKLE NA GROUP PAGE-U ZELIM DA QUERY-UJEM CARD-OVE PREMA DATUMU

MORACU DA IZVRSIM MNOGE MODIFIKACIJE

U SUSTINI NASO SAM BOLJI NACIN DA DOBIJEM NEKI DATA INSIDE RESOLVER A TO JE KORISCENJE 

- `context.nodeModel.runQuery()`

PRE NEGO STO BILO STA URADIS, POGLEDAJ DONJI QUERY

```php
{
	
  allBlogPostPage(
    filter: {groupPage: {name: {eq: "GraphQL"}}},
  	sort: {fields: updated, order: DESC}
  ){
    nodes {
      updated(fromNow: true)
    }
  }
}
```

POGLEDAJ STA SI IZ NJEGA DOBIO

```json
{
  "data": {
    "allBlogPostPage": {
      "nodes": [
        {
          "updated": "4 hours ago"
        },
        {
          "updated": "a day ago"
        }
      ]
    }
  }
}
```

# SADA IDEM DA REDEFINISEM `blogPostPages` RESOLVER NA `GroupPage` TYPE-U

TAK OSTO CU REKREIRATI GORNJI QUERI UZ KORISCENJE `context.nodeModel.runQuery()`

**ONO STA SAM RADIO U POMENUTOM RESOLVERU, RANIJE, BILO JE LOSE, JER SAM UZIMAO NODE PO NODE PREM ID-JU** (ID-JEVE SAM VADIO IZ ONOG NIZA IZ GLOBALNOG OBIMA (I EVENTUALLY, JA ZELIM DA SE OTRASIM TOG NIZA))

## NAKON TOGA CU DEFINISATI INPUT TYPE ZA `blogPostPages`

## NEKE REFERENCE

<https://www.gatsbyjs.org/docs/schema-customization#custom-query-fields>


# JA USTVARI ZELIM DA DEFINISAEM SORTING PREMA DATE-U

# ALI EVO VEC SE JAVIO NOVI PROBLEM, I NOVA POTREBA DA MODIFIKUJEM SCHEMA-A

blogPostPages FIELD NA GroupPage TYPE-U NEMA MOGUCNOST ZA UNOS ARGUMENATA

MORACU TO POPRAVITI

**ZATO MISLIM DA CU OPET MORATI DA DEFINISEM RESOLVER-A, ALI I DIREKTIVU**

# :one: NAKON NEKOLIKO QUERY-JA, SAZNAO SAM, INPUT TYPE-OVE ZA `blogPostPage` I `allBlogPostPage`

`BlogPostPage` TYPE (RETURNED TYPE QUERY-JI blogPostPage I allBlogPostPage) (TO VEC ZNAS)

A JEDAN ON INPUT TYPE-OVA, KOJI ME ZANIMA

**`BlogPostPageSortInput`**

# DAKLE JA USTVARI ZELIM DA FIELDU `blogPostPages`, ZADAJEM ARGUMENT U SKLADU SA POMENUTIM input TYPE-OM

U SUSTINI POTREBNO JE DA TYPE-UJES ARGUMENTE U RESOLVERU, I ZA TO CES ISKORISTITI 

NARAVNO U SKLADU SA TIM JA CU NAPRAVITI QUERY U RESOLVER-U (SA `context.nodeModel.runQuery()`)

# KADA SVE ZAVRSIM, POKAZACU KAKO CE IZGLEDATI RESOLVER

IZKOMENTARISACU STA SAM I ZASTO SAM DEFINISAO