# DAKLE VRACAM SE NA SYNTAX HIGHLIGHTING, ODNON OZELIM DA UVEDEM MOGUCNOST DA SE HIGHLIGHT-UJU SPECIFIC LINES

**`TAKODJE CU ZADATI I DA POSTOJE LINE NUMBER-OVI`**

DAKLE VRACAM SE NA OVAJ TUTORIJAL

<https://www.lekoarts.de/en/blog/adding-line-numbers-and-code-highlighting-to-mdx-code-blocks>

A MOZES DA VIDIS KAKO KOMPONENTA IZGLEDA U CODE SANDBOX-U

<https://codesandbox.io/s/mdx-line-numbers-code-highlighting-99wb5?file=/src/components/code.js>

A MODIFIKUJEM SLEDECU KOMPONENTU

`packages/gatsby-theme-raedal/src/components/mdx-theme-ui-overrides/code.tsx`

## KAKO DODATI BROJEVE

PA DODAO SAM SPAN KOJI MOZES VIDETI, I KOJEM SAM ZAQDAO KLASU DA JE MOGU STILIZOVATI

DOBRO JE DA TI JE DOSTUPAN ITERATOR, TAKO DA SI GA STAVIO U NA POCETAK DIV-A, KOJI REPREZENTUJE JEDAN LINE

## A KAKO DODATI HIGHLIGHT ZA ZELJENI LINE

ONO STA USTVARI TI ZELIS DA POSTIGNES JESTE DA UKUCAS SLEDECE PRILIKOM PISANJA CODE BLOCK-A U MARKDOWN-U

**{2,6,8}**

DAKLE KADA BI TO STAVIO U MDX FAJLOVOM CODE BLOCK-U: `TO BI ZNACILO DA JA ZELIM DA HIGHLIGHT-UJEM TE REDOVE`

ZATO JA MORAM DA FILTRIRAM, ODNONO DA PRETRAZIM TAJ ENTITET U SVEMU STO SE KOMPONENTI DODAJE KAO PROP

A MEDJU TIM METAPODACIMA JESTE I POMENUTI BRACKETS SA BROJEVIMA

E PA JA MORAM DA GA NADJEM I IZVRSIM FILTERING TIH BROJEVA

---

HAJDE PRVO DA KRENEM OD REGEXP-A

ONO STO CU TRAZITE JE **SET** OD BROJEVA I `ZAREZA ILI CRTICA`

TAJ SET TREBA DA SE NAZALI IZMEDJU KARAKTERA `{` I KARAKTERA `}`

ZASTO SAM GORE SPOMENUO CRTICE? PA CRTICA CE SE PISATI ONDA KADA ZELIM DA KAZEM **`HIGHLIGHT-UJ REDOVE OD DO`**

EVO GA REGEXP

- **`/{([\d,-]+)}/g`**

KORISTICE SE SA exec METODOM, U KOJU CE ICI CEO META STRING, ODNONO SVE ONO STA CE SE PROSLEDITI KOMPONENTI

KADA TO DOBIJEM POTREBNO JE IZDVOJITI

- BROJEVE ILI ILI OD CRTICA DO

EVO ISPITAO SAM OVAJ REGEXP NA JEDNOM PRIMERU

```javascript
// IZ OVOGO
/\{([\d-,]+)\}/g.exec("NESTO BLAH  {1,4-6,9,12,16,28-30}   NESTO DRUGO BLAH")

// TREBALO BI DA DOBIJEM NESTO OVAKO

[
  '{1,4-6,9,12,16,28-30}',
  '1,4-6,9,12,16,28-30',        // I OVO JE CLAN NIZA KOJI TEBI TREBA
  index: 12,
  input: 'NESTO BLAH  {1,4-6,9,12,16,28-30}   NESTO DRUGO BLAH',
  groups: undefined
]

// I NA GORNJEM CLANU NUIZA TI CES USTVARI VRSITI FILTERING

```

A KAK OSAM SVE IZVRSIO NALAZICE SE U FAJLU, TAKO DA TO TAMO MOZES DA POGLEDAS

**`packages/gatsby-theme-raedal/src/components/mdx-theme-ui-overrides/code.tsx`**

---

## PRE NEGO STO BILO STA DEFINISES NE ZABORAVI DA DODAS NEKI METASTRING, U SVOJ MARKDOWN

DODAJ GA UZ TWOJ CODE BLOCK

DAKLE NAPISI NA PRIMER `ts` CODEBLOCK, ALI UZ `ts` TI DODAJ I OVO NA PRIMER `{1,4-6,9,12,16,28-30}`

DAKLE OVAK ONESTO BI TI NAPISAO U MDX FAJLU, UZ CODE BLOCK:

- `ts {1,4-6,9,12,16,28-30}`

## ISTO TAKO VODI RACUNA O `metdata` PROP-U

NAIME, JA SAM GA IZ NEKOG RAZLOGA NASAO U OKVIRU children-A ;**ODNONO U OKVIRU children-OVIH PROPS-A**

ZASTO JE TO TAK OBILO NE ZNAM

ALI NAJBOLJE JE DA URADIS OVAKO

```javascript
const metastring = props.metastring || props.children.props.metastring;
```

## TAKODJE U OKVIRU OVOG BRANCH-A, JA SAM ODLUCIO DA NAPRAVIM I LANGUAGE TAB, ZA SVAKI CODE BLOK

AKO NE USPEM SAM OVAJ TUTORIJAL CE POSLUZITI

<https://www.lekoarts.de/en/blog/language-tabs-for-gatsbys-code-blocks>

## TAKODJE SAM ODLUCIO DA KORISTIM STYLED COMPONENENT

ODNOSNO `@emotion/styled`

- `yarn workspace gatsby-theme-raedal add @emotion/styled`

**MEDJUTIM STYLED COMPONENT NE FUNKCIONISE ZA OVU POTREBU**

ODNOSNO NISAM MOGAO WRAPP-OVATI NI MOJU GOTOVU Code KOMPONENTU U STYLED ONE

A ISTO NISAM MOGAO URADITI SA Highlight-OM

UGLAVNOM GUBE SE PROPS-I I JA NE ZNAM ZASTO

USTVARI ZNAM, IPAK JE Highlight CUSTOM STVAR

## STO SE TICE STILIZOVANJA LANGUAGE BANNER-A, ODNONO TABA KOJI CE REC U KOJEM JE JEZIKU CODE BLOCK, TO SAM DEFINISAO U GLOBALNIM STILOVIMA

STO SE NALAZI U:

`packages/gatsby-theme-raedal/src/components/layout.tsx`
