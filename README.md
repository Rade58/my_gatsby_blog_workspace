# ZELIM DA MODIFIKUJEM Code KOMPONENTU, TAKO DA MOGU HIGLIGHTOVATI SPCEFIC LINES INSIDE CODE BLOCK I TAKODJE ZELIM DA SE CODE BLOCK-OVI LAZY LOAD-UJU

---

**U OVOM BRANCH-U SAM TEK STIGAO TOLIKO DA UZ POMOC `@lodable/component` DEFINISEM LAZY LOADING Code KOMPONENTE, ODNONO PRISM LIBRARY-JA, JER CE PRISM LIBRARY BITI UVEZEN TEK KADA SE INICIRA RENDERING**

TAKODJE SAM TWEAK-OVAO GRID NA FIREFOX-U (main ELEMENT, ODNONO KOMPONENTA), JER NESTO NIJE FUNKCIONISALO, KLJUC JE BIO DEFINISNISATI `minmax` PRI

pre ELEMENT JE POVECAO SVOG CONTAINER-A IZBACUJUCI GA IZVAN WINDOW-A

OVAJ TUTORIJAL JE BIO OD POMOCI

<https://css-tricks.com/preventing-a-grid-blowout/>

**`U NEKOM OD SLEDECIH BRANCH-EVA CU SE IPAK POZABAVITI SA DODAVANJEM LINE NUBBER-OVA I HIGHLIGHTING-A SPECIFIC REDOVA (PO ZELJU)`**

---

KORISTICU NESTO DRUGO, UMESTO React.lazy, ZATI STO JE TO IZABRAO DA KORISTI AUTOR CLANKA IZ KOJEG SAM OVO SAZNAO

**USTVARI ONO STO ZELIM DA LAZYLY LOAD-UJEM JESTE LIBRARY**, KOJ ISAM IRANIJE KREIRAO, A KOJI SE ZOVE prism-react-renderer

PREDPOSTAVLJAM DA JE OVO DOBRO URADITI, JER NA PRIMER NE ZELIM DA LOAD-UJEM `prism-react-renderer` LIBRARY, U SLUCAJU NEKOG DRUGOG PAGE-A, MOG BLOGA, A KOJI **NE BI IMAO CODE BLOCKS KOMPONENTE ZA POKAZIVANJE**, JER TO BI USPORILO MOJ APP

DA INSTALIRAM STA CE MI TREBATI

- `yarn workspace gatsby-theme-raedal add @loadable/component`

I INSTALIRACU TYPESCRIPT TYPE-OVE U ROOT-U WORKSPACE-A

- `yarn -W -D add @types/loadable__component`

NARAVNO, OD RANIJE, VEC IMAM `prism-react-renderer`

## ZASTI KORISTIM `@loadable/component`

PREDPOSTAVLJAM DA UPROSCAVA DEFINISANJE U ODNOSU NA [React.lazy I React.Suspense](https://github.com/Rade58/1_pure_react_project/tree/13_code_splitting#code-splitting)

## POGLEDAJ Code KOMPONENTU

`packages/gatsby-theme-raedal/src/components/mdx-theme-ui-overrides/code.tsx`

TAMO SAM SVE STVARI, KOJE SU PRISM-A RELATED USTVARI DEFINISAO DA SE LAZYLY LOAD-UJU, UZ POMOC POMENUTOG LIBRARY-JA

## STO SE TICE TYPESCRIPT-A, OVDE SAM MOZDA URADIO HACKY STVAR

NISAM MOGAO NESTO DA TYPE-UJEM, A AUTOR TYPE-OVA ZA @loadable/component NIJE EXPORT-OVAO TYPE:

- **`RenderProps`**

JA SAM SA Ctrl + Alt + Click NEKAKO PRONASAO TAJ TYPE, I IZVEZAO SAM GA SAMO DA BIH NJEGA UPOTREBIO

ZASTO JE OVO BIO LOS NACIN

PA AKO UPDATE-UJEM PAKET TO I DALJE NECE BITI IZVEZENO IZ PAKETA

ALI SUMNJAM DA CU UPDATE-OVATI TYPE DEFINITIONS

## POSTO SI KORISTIO LAZY LAODING, I POGOTOVO LAZY LOADING, PRI KOJEM SI KORISTIO POMENUTI LIBRARY, MORAO SI OBRATITI PAZNJU NA TO KADA CITAS VREDOSTI IZ DOM-A

NA PRIMER, NAIME POGLEDAJ Code, I VIDI GDE SAM KORISTIO useEffect KOMPONENTU

NISAM JE KORISTIO U ONOJ KOMPONENTI, U KOJOJ SAM RENDER-OVAO WRAPPER, KOJI SLUZI ZA LAZY LOADING

**JA SAM NAIME U SAMOJ KOMPONENTI U KOJOJ SAM KORISTIO `Highlight` KOMPONENTU, USTVARI KORISTIO useEffect ILI useLayoutEffect**

U SUPRTONOM BI IMAO POGRESNO OCITA VRENOSTI VISINE BODY ELEMENTA, U useEffect-U ILI useLayoutEffect-u

## MISLIM DA TI JE pre ELEMENT ZADAO PROBLEME U SMISLU SIRINE, JER TI AKO STAVIS OGROMAN CONTENT, SVE CE ISKOCITI IZ GRID-A

MEDJUTIM, JA SAM IZ RENDERED HTML-A VIDEO DA JE GRID U DIV-U (NETACNO)
